spring:
  application:
    name: sagapattern-integration
  cloud:
    vault:
      enabled: false
  r2dbc:
    url: r2dbc:postgresql://localhost:5432/saga_db
    username: saga_user
    password: saga_password

api:
  encryption-key: test-encryption-key-32-bytes-long

saga:
  defaults:
    estimated-delivery-days: 5
    max-retry-attempts: 3
    default-payment-method-id: null
    unknown-error-message: "An unexpected error occurred"
  services:
    inventory:
      base-url: http://localhost:8081/api/inventory
    payment:
      base-url: http://localhost:8081/api/payments
    shipping:
      base-url: http://localhost:8081/api/shipments

# Enable observability for integration tests
management:
  health:
    vault:
      enabled: false
  tracing:
    enabled: true
    sampling:
      probability: 1.0
  otlp:
    tracing:
      endpoint: http://localhost:4318/v1/traces
    metrics:
      export:
        enabled: true
        step: 10s
        endpoint: http://localhost:4318/v1/metrics
    logging:
      export:
        enabled: true
        endpoint: http://localhost:4318/v1/logs
